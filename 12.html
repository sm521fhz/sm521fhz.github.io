<!DOCTYPE html>
<html lang="en">
<head>
	<title>石名的技术博客 | 石名的技术博客</title>
	<meta charset="utf-8" />
    <meta name="author" content="石名">
	<link rel="stylesheet" href="/theme/css/franticworld.css" type="text/css" />
	<link href="/theme/css/pygments.css" rel="stylesheet">
</head>
<body background="/theme/img/pattern.png">
		<div class="nav-banner">
		<a href="">石名的技术博客</a>
		</div>
		
		<div class="content">

<div class="metabox">
	<p class="metaday">220</p>
	<p class="metayear">2019</p>
	<p class="metacategory">技术</p>
</div>
<div class="arcticlecontentbox">
	<div class="articlecontent">
		<a class="articletitle" href="/12.html " >石名的技术博客</a>
		<p><strong>Django查询语句</strong></p>
<p><strong>查询语句</strong></p>
<div class="highlight"><pre><span></span> #查询全部数据 翻译为 select * from user; all()返回值是list
    res = User.objects.all()
    #print(res)
    #分页 0开始位置,2结束位置，注意2不是取几条
    res = User.objects.all()[0,2]
    #print(res)

    #查询限定条件的数据 翻译为 select * from user where username = &#39;新用户123&#39; and逻辑使用多个参数传递
    res = User.objects.filter(username=&#39;新用户&#39;,password=&#39;你好&#39;)
    #print(res)

    #只取一条 翻译 select * from user where id = 1
    res_one = User.objects.get(id=1)
    #print(res_one)

    #排除条件  翻译为 select * from user where username != &#39;新用户123&#39;   &lt;&gt;
    res = User.objects.exclude(username=&#39;新用户&#39;)

    #定制字段显示 翻译为 select password from user where name = &#39;新用户&#39;
    res_s = User.objects.filter(username=&#39;新用户&#39;).values(&#39;password&#39;)

    #使用values()方法可以自动将结果集转换成可用模式
    data = User.objects.all().values()
    data = list(data)

    #排序 翻译为 select * from user order by id asc  倒序使用 reverse()
    res = User.objects.filter(username=&#39;新用户&#39;).order_by(&quot;password&quot;).reverse()
    #第二种方法 -password降序
    res = User.objects.filter(username=&#39;新用户&#39;).order_by(&quot;-password&quot;)

    #去重 翻译为 select distinct(username) from user where username = &#39;新用户&#39;
    res_dis = User.objects.filter(username=&#39;新用户&#39;).values(&#39;username&#39;).distinct()
    #print(res_dis)

    #取数量 翻译为 select count(*) from user
    res_count = User.objects.filter(username=&#39;新用户&#39;).count()
    print(res_count)

    #模糊查询 contains：是否包含。select * from user where name like &#39;%新%&#39;

    例：查询姓名包含&#39;新&#39;的用户。
    User.objects.filter(name__contains=&#39;新&#39;)

    #startswith、endswith：以指定值开头或结尾
    User.objects.filter(name__startswith=&#39;新&#39;)

    #isnull：是否为null
    User.objects.filter(name__isnull=True)

    #in：是否包含在范围内
    User.objects.filter(id__in=[1,3,5])

    #比较查询

    gt大于 (greater then)
    gte大于等于 (greater then equal)
    lt小于 (less then)
    lte小于等于 (less then equal)
    例：User.objects.filter(id__gt=2)
</pre></div>
	</div>
	
	       
</div>

		</div>
		
		<div class="sidebar">
<div class="sidebarcategory">
<h4>Categories</h4>
	<li><a href="/category/ji-zhu.html">技术</a></li>
</div>

<div class="sidebarpages">
</div>

<div class="sidebarblogroll">
<h4>Blogroll</h4>
    <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
    <li><a href="http://python.org/" target="_blank">Python.org</a></li>
    <li><a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a></li>
    <li><a href="#" target="_blank">You can modify those links in your config file</a></li>
</div>

<div class="sidebarsocial">
<h4>Social</h4>
    <li><a href="#">You can add links in your config file</a></li>
    <li><a href="#">Another social link</a></li>
</div>		</div>
		
		<footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>,
				Theme by <a href="http://frantic1048.com/">Frantic1048</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>